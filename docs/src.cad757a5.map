{"version":3,"sources":["src/index.js"],"names":["animate","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","canvas","document","createElement","width","innerWidth","height","innerHeight","ignatius","echenique","context","getContext","player","Player","computer","Computer","ball","Ball","keysDown","render","fillStyle","fillRect","update","paddle","step","Paddle","x","y","x_speed","y_speed","w","handleControls","e","TouchEvent","type","touch","touches","clientX","prototype","image","drawImage","move","x_pos","diff","key","value","Number","beginPath","arc","Math","PI","fill","paddle1","paddle2","top_x","top_y","bottom_x","bottom_y","body","appendChild","addEventListener","event","keyCode","Image","src","echenique_img","onload","ignatius_img"],"mappings":"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","file":"src.cad757a5.map","sourceRoot":"..","sourcesContent":["import ignatius_img from '../assets/ignatius.png';\nimport echenique_img from '../assets/echenique.png';\n\nvar animate = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\n    window.setTimeout(callback, 1000 / 60)\n};\nvar canvas = document.createElement(\"canvas\");\nvar width = window.innerWidth;\nvar height = window.innerHeight;\ncanvas.width = width;\ncanvas.height = height;\nvar context = canvas.getContext('2d');\nvar player = new Player();\nvar computer = new Computer();\nvar ball = new Ball(200, 300);\nvar ignatius, echenique;\n\nvar keysDown = {};\n\n\n\nvar render = function () {\n    context.fillStyle = \"#fff\";\n    context.fillRect(0, 0, width, height);\n    player.render();\n    computer.render();\n    ball.render();\n};\n\nvar update = function () {\n    player.update();\n    computer.update(ball);\n    ball.update(player.paddle, computer.paddle);\n};\n\nvar step = function () {\n    update();\n    render();\n    animate(step);\n};\n\nfunction Paddle(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.x_speed = 0;\n    this.y_speed = 0;\n}\n\nPaddle.prototype.render = function (image) {\n    context.drawImage(image, this.x, this.y, this.width, this.height);\n};\n\nPaddle.prototype.move = function (x, y) {\n    this.x += x;\n    this.y += y;\n    this.x_speed = x;\n    this.y_speed = y;\n    if (this.x < 0) {\n        this.x = 0;\n        this.x_speed = 0;\n    } else if (this.x + this.width > width) {\n        this.x = width - this.width;\n        this.x_speed = 0;\n    }\n};\n\nfunction Computer() {\n    let w = 100,\n        h = 142;\n    this.paddle = new Paddle((width / 2) - w / 2, 10, w, h);\n}\n\nComputer.prototype.render = function () {\n    this.paddle.render(echenique);\n};\n\nComputer.prototype.update = function (ball) {\n    var x_pos = ball.x;\n    var diff = -((this.paddle.x + (this.paddle.width / 2)) - x_pos);\n    if (diff < 0 && diff < -4) {\n        diff = -5;\n    } else if (diff > 0 && diff > 4) {\n        diff = 5;\n    }\n    this.paddle.move(diff, 0);\n    if (this.paddle.x < 0) {\n        this.paddle.x = 0;\n    } else if (this.paddle.x + this.paddle.width > width) {\n        this.paddle.x = width - this.paddle.width;\n    }\n};\n\nfunction Player() {\n    let w = 100, h = 138;\n    this.paddle = new Paddle((width / 2) - w / 2, height - h - 10, w, h);\n}\n\nPlayer.prototype.render = function () {\n    this.paddle.render(ignatius);\n};\n\nPlayer.prototype.update = function () {\n    for (var key in keysDown) {\n        var value = Number(key);\n        if (value == 37) {\n            this.paddle.move(-4, 0);\n        } else if (value == 39) {\n            this.paddle.move(4, 0);\n        } else {\n            this.paddle.move(0, 0);\n        }\n    }\n};\n\nfunction Ball(x, y) {\n    this.x = x;\n    this.y = y;\n    this.x_speed = 0;\n    this.y_speed = 3;\n}\n\nBall.prototype.render = function () {\n    context.beginPath();\n    context.arc(this.x, this.y, 5, 2 * Math.PI, false);\n    context.fillStyle = \"#000000\";\n    context.fill();\n};\n\nBall.prototype.update = function (paddle1, paddle2) {\n    this.x += this.x_speed;\n    this.y += this.y_speed;\n    var top_x = this.x - 5;\n    var top_y = this.y - 5;\n    var bottom_x = this.x + 5;\n    var bottom_y = this.y + 5;\n\n    if (this.x - 5 < 0) {\n        this.x = 5;\n        this.x_speed = -this.x_speed;\n    } else if (this.x + 5 > width) {\n        this.x = width - 5;\n        this.x_speed = -this.x_speed;\n    }\n\n    if (this.y < 0 || this.y > height) {\n        this.x_speed = 0;\n        this.y_speed = 3;\n        this.x = 200;\n        this.y = 300;\n    }\n\n    if (top_y > 300) {\n        if (top_y < (paddle1.y + paddle1.height) && bottom_y > paddle1.y && top_x < (paddle1.x + paddle1.width) && bottom_x > paddle1.x) {\n            this.y_speed = -3;\n            this.x_speed += (paddle1.x_speed / 2);\n            this.y += this.y_speed;\n        }\n    } else {\n        if (top_y < (paddle2.y + paddle2.height) && bottom_y > paddle2.y && top_x < (paddle2.x + paddle2.width) && bottom_x > paddle2.x) {\n            this.y_speed = 3;\n            this.x_speed += (paddle2.x_speed / 2);\n            this.y += this.y_speed;\n        }\n    }\n\n    if (this.x_speed > 30) this.x_speed -= 1;\n};\n\ndocument.body.appendChild(canvas);\n\nwindow.addEventListener(\"keydown\", function (event) {\n    keysDown[event.keyCode] = true;\n});\n\nwindow.addEventListener(\"keyup\", function (event) {\n    delete keysDown[event.keyCode];\n});\n\n\nfunction handleControls(e) {\n    debugger;\n    if (e instanceof TouchEvent) {\n        if (e.type === \"touchstart\") {\n            let touch = e.touches[0].clientX;\n            if (touch < player.paddle.x + (player.paddle.width / 2)) keysDown[37] = true;\n            if (touch > player.paddle.x + (player.paddle.width / 2)) keysDown[39] = true;\n        } else {\n            delete keysDown[37];\n            delete keysDown[39];\n        }\n    }\n}\n\nwindow.addEventListener('touchstart', handleControls);\nwindow.addEventListener('touchend', handleControls);\n\nwindow.addEventListener('resize', () => {\n    width = window.innerWidth;\n    height = window.innerHeight;\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n});\n\nechenique = new Image();\nechenique.src = echenique_img;\nechenique.onload = () => {\n    ignatius = new Image();\n    ignatius.src = ignatius_img;\n    ignatius.onload = () => {\n        animate(step);\n    };\n}\n"]}